{"openapi":"3.1.0","info":{"title":"Movie Analysis System API","version":"0.1.0"},"paths":{"/api/users/register":{"post":{"tags":["users"],"summary":"Register","operationId":"register_api_users_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/token":{"post":{"tags":["users"],"summary":"Login","operationId":"login_api_users_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_users_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/users":{"get":{"tags":["users"],"summary":"Get Users","operationId":"get_users_api_users_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Response Get Users Api Users Users Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/me":{"get":{"tags":["users"],"summary":"Read Users Me","operationId":"read_users_me_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/profile":{"put":{"tags":["users"],"summary":"Update Profile","operationId":"update_profile_api_users_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/password":{"put":{"tags":["users"],"summary":"Change Password","operationId":"change_password_api_users_password_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/avatar":{"post":{"tags":["users"],"summary":"Upload Avatar","operationId":"upload_avatar_api_users_avatar_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_avatar_api_users_avatar_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/activities":{"get":{"tags":["users"],"summary":"Get User Activities","operationId":"get_user_activities_api_users_activities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Activity"},"type":"array","title":"Response Get User Activities Api Users Activities Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/token":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/movies/":{"get":{"tags":["movies"],"summary":"Get Movies","operationId":"get_movies_api_movies__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Movie"},"title":"Response Get Movies Api Movies  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/movies/{movie_id}":{"get":{"tags":["movies"],"summary":"Get Movie","operationId":"get_movie_api_movies__movie_id__get","parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/movies/genres/stats":{"get":{"tags":["movies"],"summary":"Get Genre Stats","operationId":"get_genre_stats_api_movies_genres_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/sentiment/{movie_id}":{"get":{"tags":["analysis"],"summary":"Get Movie Sentiment","operationId":"get_movie_sentiment_api_analysis_sentiment__movie_id__get","parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analysis/word-cloud/{movie_id}":{"get":{"tags":["analysis"],"summary":"Get Word Cloud","operationId":"get_word_cloud_api_analysis_word_cloud__movie_id__get","parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analysis/sentiment-trend":{"get":{"tags":["analysis"],"summary":"Get Sentiment Trend","operationId":"get_sentiment_trend_api_analysis_sentiment_trend_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/user-activity-trend":{"get":{"tags":["analysis"],"summary":"Get User Activity Trend","operationId":"get_user_activity_trend_api_analysis_user_activity_trend_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/comment-length-distribution":{"get":{"tags":["analysis"],"summary":"Get Comment Length Distribution","operationId":"get_comment_length_distribution_api_analysis_comment_length_distribution_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/movie-rating-distribution":{"get":{"tags":["analysis"],"summary":"Get Movie Rating Distribution","operationId":"get_movie_rating_distribution_api_analysis_movie_rating_distribution_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/user-activity":{"get":{"tags":["analysis"],"summary":"Get User Activity","operationId":"get_user_activity_api_analysis_user_activity_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/reviews/":{"post":{"tags":["reviews"],"summary":"Create Review","operationId":"create_review_api_reviews__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"movie_id","in":"query","required":true,"schema":{"type":"integer","title":"Movie Id"}},{"name":"content","in":"query","required":true,"schema":{"type":"string","title":"Content"}},{"name":"sentiment","in":"query","required":true,"schema":{"type":"string","title":"Sentiment"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reviews/movie/{movie_id}":{"get":{"tags":["reviews"],"summary":"Get Movie Reviews","operationId":"get_movie_reviews_api_reviews_movie__movie_id__get","parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Movie Reviews Api Reviews Movie  Movie Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reviews/user/me":{"get":{"tags":["reviews"],"summary":"Get My Reviews","operationId":"get_my_reviews_api_reviews_user_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get My Reviews Api Reviews User Me Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/reviews/{review_id}":{"delete":{"tags":["reviews"],"summary":"Delete Review","operationId":"delete_review_api_reviews__review_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"string","title":"Review Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/favorites/{movie_id}":{"post":{"tags":["favorites"],"summary":"Add Favorite","operationId":"add_favorite_api_favorites__movie_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/favorites/":{"get":{"tags":["favorites"],"summary":"Get My Favorites","operationId":"get_my_favorites_api_favorites__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get My Favorites Api Favorites  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/favorites/{favorite_id}":{"delete":{"tags":["favorites"],"summary":"Remove Favorite","operationId":"remove_favorite_api_favorites__favorite_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"favorite_id","in":"path","required":true,"schema":{"type":"string","title":"Favorite Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/favorites/check/{movie_id}":{"get":{"tags":["favorites"],"summary":"Check Favorite","operationId":"check_favorite_api_favorites_check__movie_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"movie_id","in":"path","required":true,"schema":{"type":"integer","title":"Movie Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/reviews":{"get":{"tags":["analytics"],"summary":"Get Review Analytics","description":"获取影评数据分析","operationId":"get_review_analytics_api_analytics_reviews_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/analytics/movies":{"get":{"tags":["analytics"],"summary":"Get Movie Analytics","description":"获取电影数据分析","operationId":"get_movie_analytics_api_analytics_movies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/analytics/users":{"get":{"tags":["analytics"],"summary":"Get User Analytics","description":"获取用户数据分析","operationId":"get_user_analytics_api_analytics_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Activity":{"properties":{"type":{"type":"string","enum":["review","favorite"],"title":"Type"},"movie_id":{"type":"integer","title":"Movie Id"},"movie_title":{"type":"string","title":"Movie Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"sentiment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sentiment"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["type","movie_id","movie_title","created_at"],"title":"Activity"},"Body_login_api_users_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_users_token_post"},"Body_login_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_token_post"},"Body_upload_avatar_api_users_avatar_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_avatar_api_users_avatar_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Image":{"properties":{"type":{"type":"string","title":"Type"},"content":{"type":"string","title":"Content"}},"type":"object","required":["type","content"],"title":"Image"},"Movie":{"properties":{"movie_id":{"type":"integer","title":"Movie Id"},"title":{"type":"string","title":"Title"},"genre":{"type":"string","title":"Genre"},"description":{"type":"string","title":"Description"},"url_film":{"type":"string","title":"Url Film"},"img":{"$ref":"#/components/schemas/Image"},"source":{"type":"string","title":"Source"}},"type":"object","required":["movie_id","title","genre","description","url_film","img","source"],"title":"Movie"},"MovieDetail":{"properties":{"movie_id":{"type":"integer","title":"Movie Id"},"title":{"type":"string","title":"Title"},"genre":{"type":"string","title":"Genre"},"description":{"type":"string","title":"Description"},"url_film":{"type":"string","title":"Url Film"},"img":{"$ref":"#/components/schemas/Image"},"source":{"type":"string","title":"Source"},"reviews":{"items":{"$ref":"#/components/schemas/Review"},"type":"array","title":"Reviews"}},"type":"object","required":["movie_id","title","genre","description","url_film","img","source","reviews"],"title":"MovieDetail"},"PasswordUpdate":{"properties":{"currentPassword":{"type":"string","title":"Currentpassword"},"newPassword":{"type":"string","title":"Newpassword"},"confirmPassword":{"type":"string","title":"Confirmpassword"}},"type":"object","required":["currentPassword","newPassword","confirmPassword"],"title":"PasswordUpdate"},"Review":{"properties":{"review_id":{"type":"string","title":"Review Id"},"uname":{"type":"string","title":"Uname"},"gender":{"type":"string","title":"Gender"},"profileUrl":{"type":"string","title":"Profileurl"},"content":{"type":"string","title":"Content"}},"type":"object","required":["review_id","uname","gender","profileUrl","content"],"title":"Review"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"User":{"properties":{"user_id":{"type":"string","title":"User Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_admin":{"type":"boolean","title":"Is Admin","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"_id":{"type":"string","title":" Id"},"avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar"}},"type":"object","required":["user_id","username","email","created_at","_id"],"title":"User"},"UserCreate":{"properties":{"user_id":{"type":"string","title":"User Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_admin":{"type":"boolean","title":"Is Admin","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"password":{"type":"string","title":"Password"}},"type":"object","required":["user_id","username","email","created_at","password"],"title":"UserCreate"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"token"}}}}}}